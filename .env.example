# API Security
API_KEY=xxx

# Service Configuration
# Comma-separated list of enabled services: marker, nanonets, olmocr
ENABLED_SERVICES=marker,nanonets,olmocr

# Worker Configuration
# Number of worker processes (use 1 for development, 2-8 for production)
WORKERS=1

# Worker class (default: uvicorn.workers.UvicornWorker)
WORKER_CLASS=uvicorn.workers.UvicornWorker

# Maximum number of simultaneous clients per worker
WORKER_CONNECTIONS=1000

# Worker lifecycle
MAX_REQUESTS=500
MAX_REQUESTS_JITTER=50

# Timeouts (in seconds)
TIMEOUT=300  # Increased for large PDF processing
GRACEFUL_TIMEOUT=60
KEEPALIVE=5

# Thread pool per worker (keep at 1 for thread safety)
THREADS=1

# Server Configuration
HOST=0.0.0.0
PORT=80

# Logging
LOG_LEVEL=info
ACCESS_LOG=true

# GPU Configuration (optional)
# Specify which GPU to use (0, 1, etc.) or leave empty for CPU
CUDA_VISIBLE_DEVICES=0

# Hugging Face Cache Directory (for model storage)
HF_HOME=/root/.cache/huggingface

# Prevent model re-downloading (set to 1 in production after models are cached)
# HF_HUB_OFFLINE=0 for development (allows downloading)
# HF_HUB_OFFLINE=1 for production (prevents re-downloading)
HF_HUB_OFFLINE=0

# SSL Configuration (optional, for HTTPS)
# SSL_KEYFILE=/path/to/keyfile.key
# SSL_CERTFILE=/path/to/certfile.crt